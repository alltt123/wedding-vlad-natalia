<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–í–ª–∞–¥–∏—Å–ª–∞–≤ & –ù–∞—Ç–∞–ª—å—è | Wedding</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
font-family:'Montserrat',sans-serif;
background:linear-gradient(rgba(0,0,0,0.7),rgba(0,0,0,0.7)),
url('https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1974') center/cover no-repeat fixed;
color:white;
min-height:100vh;
padding:20px;
}

.container{
max-width:750px;
margin:auto;
background:rgba(0,0,0,0.8);
backdrop-filter:blur(15px);
padding:35px 25px;
border-radius:25px;
box-shadow:0 0 60px rgba(0,0,0,0.7);
animation:fadeIn 1.2s ease;
}

@keyframes fadeIn{
from{opacity:0; transform:translateY(20px);}
to{opacity:1; transform:translateY(0);}
}

h1{
font-family:'Playfair Display',serif;
font-size:36px;
text-align:center;
margin-bottom:10px;
}

.date{text-align:center;margin-bottom:15px;}

.timer{
display:flex;
justify-content:center;
gap:10px;
flex-wrap:wrap;
margin:20px 0;
}

.timer div{
background:white;
color:black;
padding:10px 12px;
border-radius:12px;
min-width:65px;
text-align:center;
font-weight:500;
}

.info{text-align:center;line-height:1.8;margin-bottom:20px;}

iframe{
width:100%;
height:300px;
border-radius:15px;
margin-bottom:20px;
}

label{font-size:14px;margin-top:10px;display:block;}
input,select,textarea{
width:100%;
padding:12px;
border:none;
border-radius:10px;
margin-bottom:15px;
}

textarea{height:80px;resize:none;}

button{
width:100%;
padding:14px;
border:none;
border-radius:30px;
font-weight:600;
cursor:pointer;
background:white;
color:black;
transition:.3s;
}

button:hover{background:#ddd;}
button:disabled{background:gray;cursor:not-allowed;}

.success{
display:none;
text-align:center;
margin-top:15px;
}

.admin{
margin-top:40px;
display:none;
}

.admin table{
width:100%;
border-collapse:collapse;
font-size:12px;
}

.admin th, .admin td{
border:1px solid white;
padding:5px;
text-align:center;
}

@media(max-width:600px){
h1{font-size:26px;}
}
</style>
</head>

<body>

<div class="container">

<h1>–í–ª–∞–¥–∏—Å–ª–∞–≤ & –ù–∞—Ç–∞–ª—å—è</h1>
<div class="date">15 –º–∞—è 2026 | 16:00</div>

<div class="timer">
<div><span id="days">0</span><br>–î–Ω–µ–π</div>
<div><span id="hours">0</span><br>–ß–∞—Å–æ–≤</div>
<div><span id="minutes">0</span><br>–ú–∏–Ω—É—Ç</div>
<div><span id="seconds">0</span><br>–°–µ–∫—É–Ω–¥</div>
</div>

<div class="info">
–î–æ–Ω–µ—Ü–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –î–æ–Ω–µ—Ü–∫<br>
–†–µ—Å—Ç–æ—Ä–∞–Ω "King Town"<br>
–î—Ä–µ—Å—Å-–∫–æ–¥: <b>Total Black</b>
</div>

<!-- –Ø–Ω–¥–µ–∫—Å –∫–∞—Ä—Ç–∞ -->
<iframe src="https://yandex.ru/map-widget/v1/?text=–î–æ–Ω–µ—Ü–∫%20—Ä–µ—Å—Ç–æ—Ä–∞–Ω%20King%20Town&z=15"></iframe>

<h3 style="text-align:center;margin-bottom:15px;">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ</h3>

<input type="text" id="name" placeholder="–í–∞—à–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—è *" required>

<label>–° –≤–∞–º–∏ –±—É–¥–µ—Ç +1?</label>
<select id="plusOne" onchange="togglePlusOne()">
<option value="–ù–µ—Ç">–ù–µ—Ç</option>
<option value="–î–∞">–î–∞</option>
</select>

<input type="text" id="plusOneName" placeholder="–ò–º—è +1" style="display:none;">

<label>–ê–ª–∫–æ–≥–æ–ª—å</label>
<select id="alcohol">
<option value="–ü—å—é">–ü—å—é</option>
<option value="–ù–µ –ø—å—é">–ù–µ –ø—å—é</option>
</select>

<label>–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ</label>
<select id="mediaConsent">
<option value="–°–æ–≥–ª–∞—Å–µ–Ω">–°–æ–≥–ª–∞—Å–µ–Ω</option>
<option value="–ù–µ —Å–æ–≥–ª–∞—Å–µ–Ω">–ù–µ —Å–æ–≥–ª–∞—Å–µ–Ω</option>
</select>

<input type="text" id="music" placeholder="–ú—É–∑—ã–∫–∞–ª—å–Ω–æ–µ –ø–æ–∂–µ–ª–∞–Ω–∏–µ">
<textarea id="comment" placeholder="–ü–æ–∂–µ–ª–∞–Ω–∏–µ –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"></textarea>

<button id="submitBtn" onclick="submitForm()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
<div class="success" id="successMessage">–°–ø–∞—Å–∏–±–æ ü§ç –í–∞—à –æ—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω!</div>

<div class="admin" id="adminPanel">
<h3>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h3>
<table id="adminTable"></table>
</div>

</div>

<script>
/* –¢–∞–π–º–µ—Ä */
const weddingDate=new Date("May 15, 2026 16:00:00").getTime();
setInterval(()=>{
const now=new Date().getTime();
const d=weddingDate-now;
if(d>0){
days.innerText=Math.floor(d/(1000*60*60*24));
hours.innerText=Math.floor((d%(1000*60*60*24))/(1000*60*60));
minutes.innerText=Math.floor((d%(1000*60*60))/(1000*60));
seconds.innerText=Math.floor((d%(1000*60))/1000);
}
},1000);

/* +1 */
function togglePlusOne(){
plusOneName.style.display=plusOne.value==="–î–∞"?"block":"none";
}

/* –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ */
const urlParams=new URLSearchParams(window.location.search);
if(urlParams.get("guest")){
document.getElementById("name").value=urlParams.get("guest");
}

/* –ó–∞—â–∏—Ç–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ */
if(localStorage.getItem("submitted")){
submitBtn.disabled=true;
successMessage.style.display="block";
}

/* –û—Ç–ø—Ä–∞–≤–∫–∞ */
async function submitForm(){
if(localStorage.getItem("submitted")){
alert("–í—ã —É–∂–µ –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –æ—Ç–≤–µ—Ç ü§ç");
return;
}

submitBtn.disabled=true;

const data={
name:name.value,
plusOne:plusOne.value,
plusOneName:plusOneName.value,
alcohol:alcohol.value,
mediaConsent:mediaConsent.value,
music:music.value,
comment:comment.value
};

await fetch("https://script.google.com/macros/s/AKfycbxtEJ9LcaAuC7bMHHVH_0uK6b-I_q7GLHcHSsVkwatYILfZ5X4Z3Y9juTurFSXRgPWxJA/exec",{
method:"POST",
body:JSON.stringify(data)
});

localStorage.setItem("submitted","true");
successMessage.style.display="block";
}

/* –ê–¥–º–∏–Ω –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ ?admin=1234 */
if(urlParams.get("admin")==="1234"){
document.getElementById("adminPanel").style.display="block";
fetch("https://script.google.com/macros/s/AKfycbxtEJ9LcaAuC7bMHHVH_0uK6b-I_q7GLHcHSsVkwatYILfZ5X4Z3Y9juTurFSXRgPWxJA/exec")
.then(res=>res.json())
.then(data=>{
let table="<tr><th>–ò–º—è</th><th>+1</th><th>–ê–ª–∫</th></tr>";
data.forEach(r=>{
table+=`<tr><td>${r.name}</td><td>${r.plusOne}</td><td>${r.alcohol}</td></tr>`;
});
adminTable.innerHTML=table;
});
}
</script>

</body>
</html>